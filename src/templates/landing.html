<!DOCTYPE html>
<html lang="en">
  {% load static %}

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FACRM Connector</title>

  <!-- Styles -->
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">

  <!-- Favicons -->

  <link rel="icon" type="image/png" sizes="48x48" href="{% static 'favicons/favicon-48x48.png' %}">
  <link rel="icon" type="image/png" sizes="32x32" href="{% static 'favicons/favicon-32x32.png' %}">
  <link rel="icon" type="image/png" sizes="16x16" href="{% static 'favicons/favicon-16x16.png' %}">
  

</head>

<body>
  <header>
    <h1>FACRM Connector</h1>
  </header>

  <section class="hero">
    <h2>Turn Messenger into Your CRM</h2>
    <p>Tag, track, and manage leads without leaving Facebook Messenger. Connect your extension to your FACRM account to sync data in real time.</p>
    <div class="cta-buttons">
      <a href="https://chrome.google.com/webstore/detail/YOUR_EXTENSION_ID">Install Extension</a>
      <a href="{% url 'extension_landing' %}">Connect Account</a>
    </div>
  </section>

  <section class="features">
    <div class="feature">
      <h3>Create Label</h3>
      <p>ex: customer, warm lead, cold lead, family</p>
      
      <input 
        type="text" 
        id="newLabelInput" 
        placeholder="Enter label name" 
        style="width: 100%; padding: 6px; margin-top: 5px;"
      >
      
      <button id="createLabelBtn" style="margin-top: 8px;">Add Label</button>
    </div>
    
    <div class="feature">
      <h3>üè∑ Tag Leads</h3>
      <p>Organize contacts with custom tags synced to your CRM.</p>
    </div>
    <div class="feature">
      <h3>üìä Pipeline Stages</h3>
      <p>Move leads from Prospect to Customer with one click.</p>
    </div>
    <div class="feature">
      <h3>üìù Notes</h3>
      <p>Save conversation notes directly from Messenger.</p>
    </div>
    <div class="feature">
      <h3>üìÖ Follow-ups</h3>
      <p>Set reminders and never miss a lead opportunity.</p>
    </div>
    <div class="feature">
      <h3>‚úâÔ∏è Messages</h3>
      <p>View, send, and organize all your Messenger conversations in one place.</p>
    </div>
    <div class="feature">
      <h3>üè∑ Show Labels in Facebook</h3>
      <p>Toggle to display relationship </p>
      
      <label class="switch">
        <input type="checkbox" id="showLabelsToggle">
        <span class="slider round"></span>
      </label>
    </div>
    
    

    
    
    <div class="feature">
      <p>
        <a href="">Update Password</a> &nbsp;||&nbsp;
        <a href="">Log Out</a>
      </p>
    </div>
    

  </section>


  <footer>
    &copy; {{ now|date:"Y" }} FACRM ‚Äî <a href="/docs">Docs</a> | <a href="/privacy">Privacy</a> | <a href="/support">Support</a>
  </footer>
  <!-- togle button-->
  <script>
    document.getElementById('showLabelsToggle').addEventListener('change', function() {
      if (this.checked) {
        console.log('Labels ON');
        // Here you could trigger your JS to show labels in Messenger
      } else {
        console.log('Labels OFF');
        // Here you could trigger your JS to hide labels in Messenger
      }
    });
    </script>
   
  <!-- Drag and drop -->

  <script>
    const featuresContainer = document.querySelector('.features');
    const featureItems = document.querySelectorAll('.feature');
  
    featureItems.forEach(item => {
      item.setAttribute('draggable', 'true');
  
      item.addEventListener('dragstart', () => {
        item.classList.add('dragging');
      });
  
      item.addEventListener('dragend', () => {
        item.classList.remove('dragging');
      });
    });
  
    featuresContainer.addEventListener('dragover', e => {
      e.preventDefault();
      const afterElement = getDragAfterElement(featuresContainer, e.clientY);
      const dragging = document.querySelector('.dragging');
      if (afterElement == null) {
        featuresContainer.appendChild(dragging);
      } else {
        featuresContainer.insertBefore(dragging, afterElement);
      }
    });
  
    function getDragAfterElement(container, y) {
      const draggableElements = [...container.querySelectorAll('.feature:not(.dragging)')];
  
      return draggableElements.reduce((closest, child) => {
        const box = child.getBoundingClientRect();
        const offset = y - box.top - box.height / 2;
        if (offset < 0 && offset > closest.offset) {
          return { offset: offset, element: child };
        } else {
          return closest;
        }
      }, { offset: Number.NEGATIVE_INFINITY }).element;
    }
  </script>
  <!-- Drag and drop end -->

  
  
</body>
</html>
